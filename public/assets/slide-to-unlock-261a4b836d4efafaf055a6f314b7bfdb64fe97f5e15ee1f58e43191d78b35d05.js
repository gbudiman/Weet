var SlideToUnlock=function(){var e,t,d,i,s=function(t,s){e="up",d=null,i=!1;var c=s==undefined?{}:s,_={height:c.height||64,font_size:c.font_size||24,margin_top:c.margin_top||-48,text_idle:c.text_idle||"Slide To Unlock &raquo",text_disabled:c.text_disabled||"This element is disabled",text_slid:c.text_slid||"Unlocking...",text_done:c.text_done||"Unlocked",func_slid:c.func_slid,func_done:c.func_done,style_bg_done:c.style_bg_done||"#337ab7",style_color_done:c.style_color_done||"#fff",style_bg_slid:c.style_bg_slid||"#ffbb33",style_color_slid:c.style_color_slid||"#fff",style_bg_idle:c.style_bg_idle||"#eee",style_color_idle:c.style_color_idle||"#333",style_bg_disabled:c.style_bg_disabled||"#ccc",style_color_disabled:c.style_color_disabled||"#888",start_disabled:c.start_disabled||!1},f='<div class="slide-to-unlock-parent" data-bg-done="'+_.style_bg_done+'" data-bg-slid="'+_.style_bg_slid+'" data-bg-idle="'+_.style_bg_idle+'" data-bg-disabled="'+_.style_bg_disabled+'" data-color-done="'+_.style_color_done+'" data-color-slid="'+_.style_color_slid+'" data-color-idle="'+_.style_color_idle+'" data-color-disabled="'+_.style_color_disabled+'" ><div class="slideable" /><div class="slide-text" data-disabled="'+_.text_disabled+'" data-idle="'+_.text_idle+'" data-slid="'+_.text_slid+'" data-done="'+_.text_done+'">'+_.text_idle+"</div></div>";return l(),$(t).append(f).find(".slide-to-unlock-parent").css("height",_.height+"px").find(".slideable").each(a).css("height",_.height+"px"),$(t).find(".slide-text").css("font-size",_.font_size+"px").css("height",_.height+"px").css("margin-top",_.margin_top+"px"),$(t)[0].slider_reset=function(){n($(this).find(".slideable")),$(this)[0].slider_enable()},$(t)[0].slider_enable=function(e){r($(this),e==undefined||e)},$(t)[0].slider_toggle=function(){var e=$(this).find(".slideable").hasClass("disabled");$(this)[0].slider_enable(e)},$(t)[0].func_slid=function(){var e=$(this),t=e.find(".slide-to-unlock-parent");if("true"!=t.attr("data-executed"))return e.trigger("slider-hit"),t.attr("data-executed",!0),new Promise(t=>{o($(this),"slid"),_.func_slid?_.func_slid().then(d=>{e.trigger("slider-slid",d),t(d)}):(e.trigger("slider-slid",c),t(!0))})},$(t)[0].func_done=function(e){var t=$(this);return new Promise(d=>{o($(this),"done"),_.func_done?_.func_done(e).then(e=>{t.trigger("slider-done",e),d(e)}):(t.trigger("slider-done",e),d(!0))})},$(t)[0].adjust_slider_position=function(){var e=$(this),t=e.find(".slideable");parseInt(t.css("margin-left"))>1&&t.css("margin-left",e.width()-t.width()-2+"px")},$(t)[0].set_slid_text=function(e,t){t!=undefined&&t?$(this).find(".slide-text").html(e):$(this).find(".slide-text").text(e)},$(t)[0].set_done_text=function(e,t){t!=undefined&&t?$(this).find(".slide-text").html(e):$(this).find(".slide-text").text(e)},$(window).on("resize",function(){$(t)[0].adjust_slider_position()}),_.start_disabled&&$(t)[0].slider_enable(!1),$(t)[0]},l=function(){$("body").on("mousemove",function(s){if(d&&"down"==e){var l=s.pageX-t;if(c(d)){var a=d.parent().parent()[0],n=d.parent().width()-d.width();if(d.css("margin-left",n+"px"),!i){i=!0;try{a.func_slid().then(e=>a.func_done(e))}catch(o){}}}else{l>(n=d.parent().width()-d.width())?d.css("margin-left",n+"px"):d.css("margin-left",(l<-1?-1:l)+"px")}}}),$("body").on("mouseup",function(){d&&"down"==e&&(e="up",c(d)||(d.trigger("slider-unslid"),n(d)),i=!1,d=null)})},a=function(){var i=$(this);return $(this).on("mousedown",function(s){"up"!=e||i.hasClass("disabled")||(t=s.pageX,e="down",d=i)}),i},n=function(e){e.animate({marginLeft:-1},125),o(e.parent().parent(),"idle"),i=!1},o=function(e,t){var d=e.find(".slide-text");e=e.find(".slide-to-unlock-parent");switch(t){case"idle":d.text(d.attr("data-idle")),e.css("background-color",e.attr("data-bg-idle")),e.attr("data-executed",!1),d.css("color",e.attr("data-color-idle"));break;case"slid":d.text(d.attr("data-slid")),e.css("background-color",e.attr("data-bg-slid")),d.css("color",e.attr("data-color-slid"));break;case"done":d.text(d.attr("data-done")),e.css("background-color",e.attr("data-bg-done")),d.css("color",e.attr("data-color-done"));break;case"disabled":d.text(d.attr("data-disabled")),e.css("background-color",e.attr("data-bg-disabled")),e.attr("data-executed",!1),d.css("color",e.attr("data-color-disabled"))}},r=function(e,t){var d=e.find(".slideable");t?(d.removeClass("disabled"),o(e,"idle"),e.trigger("slider-enabled")):(n(d),d.addClass("disabled"),o(e,"disabled"),e.trigger("slider-disabled")),d.attr("data-is-enabled",t)},c=function(e){return parseInt(e.css("margin-left"))+e.width()>=e.parent().width()};return{init:s}}();