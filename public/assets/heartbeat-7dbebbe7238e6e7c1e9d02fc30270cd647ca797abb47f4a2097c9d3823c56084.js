var heartbeat=function(){const e=ActionCable.createConsumer("ws://localhost:2998/cable");var a=function(){e.subscriptions.create("WeeetChannel",{connected:n,received:c}),-1!=current_user_id&&e.subscriptions.create({channel:"WeeetChannel",user_id:current_user_id},{connected:t,received:o})},n=function(){console.log("Cable connected")},t=function(){console.log("User Cable connected")},c=function(e){switch(e.action){case"new_weet":i(e.id);break;case"upvote_changed":u(e.id,e.val,"up");break;case"downvote_changed":u(e.id,e.val,"down");break;case"weet_evaluated":r(e.id,e.val);break;case"karma_changed":s(e.id,e.val);break;case"streak_changed":l(e.id,e.val);break;case"name_changed":_(e.id,e.val)}},o=function(e){switch(e.action){case"karma_changed":d(e.val,e.has_enough)}},i=function(e){weet_cloner.notify_new(e)},u=function(e,a,n){layout.update_vote(e,a,n)},r=function(e,a){layout.publish_weet(e,a)},d=function(e,a){layout.update_karma(e,a)},s=function(e,a){activity.update_karma(e,a)},l=function(e,a){activity.update_streak(e,a)},_=function(e,a){try{activity.update_name(e,a)}catch(n){}try{layout.update_author_name(e,a)}catch(n){}};return{init:a}}();